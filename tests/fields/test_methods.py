"""
A pytest module to test methods of Galois field array classes.
"""
import pytest

import galois


def test_display_method():
    GF = galois.GF(2**3)

    assert str(GF(1)) == "GF(1, order=2^3)"
    assert str(GF(0)) == "GF(0, order=2^3)"
    assert str(GF(5)) == "GF(5, order=2^3)"
    assert str(GF(2)) == "GF(2, order=2^3)"
    assert str(GF([1, 0, 5, 2])) == "GF([1, 0, 5, 2], order=2^3)"

    GF.display("poly")
    assert str(GF(1)) == "GF(1, order=2^3)"
    assert str(GF(0)) == "GF(0, order=2^3)"
    assert str(GF(5)) == "GF(α^2 + 1, order=2^3)"
    assert str(GF(2)) == "GF(α, order=2^3)"
    assert str(GF([1, 0, 5, 2])) == "GF([1, 0, α^2 + 1, α], order=2^3)"

    GF.display("power")
    assert str(GF(1)) == "GF(1, order=2^3)"
    assert str(GF(0)) == "GF(0, order=2^3)"
    assert str(GF(5)) == "GF(α^6, order=2^3)"
    assert str(GF(2)) == "GF(α, order=2^3)"
    assert str(GF([1, 0, 5, 2])) == "GF([  1,   0, α^6,   α], order=2^3)"

    GF.display()
    assert str(GF(1)) == "GF(1, order=2^3)"
    assert str(GF(0)) == "GF(0, order=2^3)"
    assert str(GF(5)) == "GF(5, order=2^3)"
    assert str(GF(2)) == "GF(2, order=2^3)"
    assert str(GF([1, 0, 5, 2])) == "GF([1, 0, 5, 2], order=2^3)"


def test_display_context_manager():
    GF = galois.GF(2**3)
    a = GF([1, 0, 5, 2])
    assert str(a) == "GF([1, 0, 5, 2], order=2^3)"
    with GF.display("poly"):
        assert str(a) == "GF([1, 0, α^2 + 1, α], order=2^3)"
    with GF.display("power"):
        assert str(a) == "GF([  1,   0, α^6,   α], order=2^3)"
    assert str(a) == "GF([1, 0, 5, 2], order=2^3)"


def test_display_exceptions():
    GF = galois.GF(2**3)
    a = GF([1, 0, 5, 2])
    with pytest.raises(ValueError):
        GF.display("invalid-display-type")


def test_arithmetic_table():
    GF = galois.GF(2**3)
    with GF.display("int"):
        assert GF.arithmetic_table("+") == "╔═══════╦═══╤═══╤═══╤═══╤═══╤═══╤═══╤═══╗\n║ x + y ║ 0 │ 1 │ 2 │ 3 │ 4 │ 5 │ 6 │ 7 ║\n╠═══════╬═══╪═══╪═══╪═══╪═══╪═══╪═══╪═══╣\n║     0 ║ 0 │ 1 │ 2 │ 3 │ 4 │ 5 │ 6 │ 7 ║\n╟───────╫───┼───┼───┼───┼───┼───┼───┼───╢\n║     1 ║ 1 │ 0 │ 3 │ 2 │ 5 │ 4 │ 7 │ 6 ║\n╟───────╫───┼───┼───┼───┼───┼───┼───┼───╢\n║     2 ║ 2 │ 3 │ 0 │ 1 │ 6 │ 7 │ 4 │ 5 ║\n╟───────╫───┼───┼───┼───┼───┼───┼───┼───╢\n║     3 ║ 3 │ 2 │ 1 │ 0 │ 7 │ 6 │ 5 │ 4 ║\n╟───────╫───┼───┼───┼───┼───┼───┼───┼───╢\n║     4 ║ 4 │ 5 │ 6 │ 7 │ 0 │ 1 │ 2 │ 3 ║\n╟───────╫───┼───┼───┼───┼───┼───┼───┼───╢\n║     5 ║ 5 │ 4 │ 7 │ 6 │ 1 │ 0 │ 3 │ 2 ║\n╟───────╫───┼───┼───┼───┼───┼───┼───┼───╢\n║     6 ║ 6 │ 7 │ 4 │ 5 │ 2 │ 3 │ 0 │ 1 ║\n╟───────╫───┼───┼───┼───┼───┼───┼───┼───╢\n║     7 ║ 7 │ 6 │ 5 │ 4 │ 3 │ 2 │ 1 │ 0 ║\n╚═══════╩═══╧═══╧═══╧═══╧═══╧═══╧═══╧═══╝"
        assert GF.arithmetic_table("-") == "╔═══════╦═══╤═══╤═══╤═══╤═══╤═══╤═══╤═══╗\n║ x - y ║ 0 │ 1 │ 2 │ 3 │ 4 │ 5 │ 6 │ 7 ║\n╠═══════╬═══╪═══╪═══╪═══╪═══╪═══╪═══╪═══╣\n║     0 ║ 0 │ 1 │ 2 │ 3 │ 4 │ 5 │ 6 │ 7 ║\n╟───────╫───┼───┼───┼───┼───┼───┼───┼───╢\n║     1 ║ 1 │ 0 │ 3 │ 2 │ 5 │ 4 │ 7 │ 6 ║\n╟───────╫───┼───┼───┼───┼───┼───┼───┼───╢\n║     2 ║ 2 │ 3 │ 0 │ 1 │ 6 │ 7 │ 4 │ 5 ║\n╟───────╫───┼───┼───┼───┼───┼───┼───┼───╢\n║     3 ║ 3 │ 2 │ 1 │ 0 │ 7 │ 6 │ 5 │ 4 ║\n╟───────╫───┼───┼───┼───┼───┼───┼───┼───╢\n║     4 ║ 4 │ 5 │ 6 │ 7 │ 0 │ 1 │ 2 │ 3 ║\n╟───────╫───┼───┼───┼───┼───┼───┼───┼───╢\n║     5 ║ 5 │ 4 │ 7 │ 6 │ 1 │ 0 │ 3 │ 2 ║\n╟───────╫───┼───┼───┼───┼───┼───┼───┼───╢\n║     6 ║ 6 │ 7 │ 4 │ 5 │ 2 │ 3 │ 0 │ 1 ║\n╟───────╫───┼───┼───┼───┼───┼───┼───┼───╢\n║     7 ║ 7 │ 6 │ 5 │ 4 │ 3 │ 2 │ 1 │ 0 ║\n╚═══════╩═══╧═══╧═══╧═══╧═══╧═══╧═══╧═══╝"
        assert GF.arithmetic_table("*") == "╔═══════╦═══╤═══╤═══╤═══╤═══╤═══╤═══╤═══╗\n║ x * y ║ 0 │ 1 │ 2 │ 3 │ 4 │ 5 │ 6 │ 7 ║\n╠═══════╬═══╪═══╪═══╪═══╪═══╪═══╪═══╪═══╣\n║     0 ║ 0 │ 0 │ 0 │ 0 │ 0 │ 0 │ 0 │ 0 ║\n╟───────╫───┼───┼───┼───┼───┼───┼───┼───╢\n║     1 ║ 0 │ 1 │ 2 │ 3 │ 4 │ 5 │ 6 │ 7 ║\n╟───────╫───┼───┼───┼───┼───┼───┼───┼───╢\n║     2 ║ 0 │ 2 │ 4 │ 6 │ 3 │ 1 │ 7 │ 5 ║\n╟───────╫───┼───┼───┼───┼───┼───┼───┼───╢\n║     3 ║ 0 │ 3 │ 6 │ 5 │ 7 │ 4 │ 1 │ 2 ║\n╟───────╫───┼───┼───┼───┼───┼───┼───┼───╢\n║     4 ║ 0 │ 4 │ 3 │ 7 │ 6 │ 2 │ 5 │ 1 ║\n╟───────╫───┼───┼───┼───┼───┼───┼───┼───╢\n║     5 ║ 0 │ 5 │ 1 │ 4 │ 2 │ 7 │ 3 │ 6 ║\n╟───────╫───┼───┼───┼───┼───┼───┼───┼───╢\n║     6 ║ 0 │ 6 │ 7 │ 1 │ 5 │ 3 │ 2 │ 4 ║\n╟───────╫───┼───┼───┼───┼───┼───┼───┼───╢\n║     7 ║ 0 │ 7 │ 5 │ 2 │ 1 │ 6 │ 4 │ 3 ║\n╚═══════╩═══╧═══╧═══╧═══╧═══╧═══╧═══╧═══╝"
        assert GF.arithmetic_table("/") == "╔═══════╦═══╤═══╤═══╤═══╤═══╤═══╤═══╗\n║ x / y ║ 1 │ 2 │ 3 │ 4 │ 5 │ 6 │ 7 ║\n╠═══════╬═══╪═══╪═══╪═══╪═══╪═══╪═══╣\n║     0 ║ 0 │ 0 │ 0 │ 0 │ 0 │ 0 │ 0 ║\n╟───────╫───┼───┼───┼───┼───┼───┼───╢\n║     1 ║ 1 │ 5 │ 6 │ 7 │ 2 │ 3 │ 4 ║\n╟───────╫───┼───┼───┼───┼───┼───┼───╢\n║     2 ║ 2 │ 1 │ 7 │ 5 │ 4 │ 6 │ 3 ║\n╟───────╫───┼───┼───┼───┼───┼───┼───╢\n║     3 ║ 3 │ 4 │ 1 │ 2 │ 6 │ 5 │ 7 ║\n╟───────╫───┼───┼───┼───┼───┼───┼───╢\n║     4 ║ 4 │ 2 │ 5 │ 1 │ 3 │ 7 │ 6 ║\n╟───────╫───┼───┼───┼───┼───┼───┼───╢\n║     5 ║ 5 │ 7 │ 3 │ 6 │ 1 │ 4 │ 2 ║\n╟───────╫───┼───┼───┼───┼───┼───┼───╢\n║     6 ║ 6 │ 3 │ 2 │ 4 │ 7 │ 1 │ 5 ║\n╟───────╫───┼───┼───┼───┼───┼───┼───╢\n║     7 ║ 7 │ 6 │ 4 │ 3 │ 5 │ 2 │ 1 ║\n╚═══════╩═══╧═══╧═══╧═══╧═══╧═══╧═══╝"
    with GF.display("poly"):
        assert GF.arithmetic_table("+") == "╔═════════════╦═════════════╤═════════════╤═════════════╤═════════════╤═════════════╤═════════════╤═════════════╤═════════════╗\n║       x + y ║      0      │      1      │      α      │    α + 1    │     α^2     │   α^2 + 1   │   α^2 + α   │ α^2 + α + 1 ║\n╠═════════════╬═════════════╪═════════════╪═════════════╪═════════════╪═════════════╪═════════════╪═════════════╪═════════════╣\n║           0 ║      0      │      1      │      α      │    α + 1    │     α^2     │   α^2 + 1   │   α^2 + α   │ α^2 + α + 1 ║\n╟─────────────╫─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────╢\n║           1 ║      1      │      0      │    α + 1    │      α      │   α^2 + 1   │     α^2     │ α^2 + α + 1 │   α^2 + α   ║\n╟─────────────╫─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────╢\n║           α ║      α      │    α + 1    │      0      │      1      │   α^2 + α   │ α^2 + α + 1 │     α^2     │   α^2 + 1   ║\n╟─────────────╫─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────╢\n║       α + 1 ║    α + 1    │      α      │      1      │      0      │ α^2 + α + 1 │   α^2 + α   │   α^2 + 1   │     α^2     ║\n╟─────────────╫─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────╢\n║         α^2 ║     α^2     │   α^2 + 1   │   α^2 + α   │ α^2 + α + 1 │      0      │      1      │      α      │    α + 1    ║\n╟─────────────╫─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────╢\n║     α^2 + 1 ║   α^2 + 1   │     α^2     │ α^2 + α + 1 │   α^2 + α   │      1      │      0      │    α + 1    │      α      ║\n╟─────────────╫─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────╢\n║     α^2 + α ║   α^2 + α   │ α^2 + α + 1 │     α^2     │   α^2 + 1   │      α      │    α + 1    │      0      │      1      ║\n╟─────────────╫─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────╢\n║ α^2 + α + 1 ║ α^2 + α + 1 │   α^2 + α   │   α^2 + 1   │     α^2     │    α + 1    │      α      │      1      │      0      ║\n╚═════════════╩═════════════╧═════════════╧═════════════╧═════════════╧═════════════╧═════════════╧═════════════╧═════════════╝"
        assert GF.arithmetic_table("-") == "╔═════════════╦═════════════╤═════════════╤═════════════╤═════════════╤═════════════╤═════════════╤═════════════╤═════════════╗\n║       x - y ║      0      │      1      │      α      │    α + 1    │     α^2     │   α^2 + 1   │   α^2 + α   │ α^2 + α + 1 ║\n╠═════════════╬═════════════╪═════════════╪═════════════╪═════════════╪═════════════╪═════════════╪═════════════╪═════════════╣\n║           0 ║      0      │      1      │      α      │    α + 1    │     α^2     │   α^2 + 1   │   α^2 + α   │ α^2 + α + 1 ║\n╟─────────────╫─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────╢\n║           1 ║      1      │      0      │    α + 1    │      α      │   α^2 + 1   │     α^2     │ α^2 + α + 1 │   α^2 + α   ║\n╟─────────────╫─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────╢\n║           α ║      α      │    α + 1    │      0      │      1      │   α^2 + α   │ α^2 + α + 1 │     α^2     │   α^2 + 1   ║\n╟─────────────╫─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────╢\n║       α + 1 ║    α + 1    │      α      │      1      │      0      │ α^2 + α + 1 │   α^2 + α   │   α^2 + 1   │     α^2     ║\n╟─────────────╫─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────╢\n║         α^2 ║     α^2     │   α^2 + 1   │   α^2 + α   │ α^2 + α + 1 │      0      │      1      │      α      │    α + 1    ║\n╟─────────────╫─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────╢\n║     α^2 + 1 ║   α^2 + 1   │     α^2     │ α^2 + α + 1 │   α^2 + α   │      1      │      0      │    α + 1    │      α      ║\n╟─────────────╫─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────╢\n║     α^2 + α ║   α^2 + α   │ α^2 + α + 1 │     α^2     │   α^2 + 1   │      α      │    α + 1    │      0      │      1      ║\n╟─────────────╫─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────╢\n║ α^2 + α + 1 ║ α^2 + α + 1 │   α^2 + α   │   α^2 + 1   │     α^2     │    α + 1    │      α      │      1      │      0      ║\n╚═════════════╩═════════════╧═════════════╧═════════════╧═════════════╧═════════════╧═════════════╧═════════════╧═════════════╝"
        assert GF.arithmetic_table("*") == "╔═════════════╦═════════════╤═════════════╤═════════════╤═════════════╤═════════════╤═════════════╤═════════════╤═════════════╗\n║       x * y ║      0      │      1      │      α      │    α + 1    │     α^2     │   α^2 + 1   │   α^2 + α   │ α^2 + α + 1 ║\n╠═════════════╬═════════════╪═════════════╪═════════════╪═════════════╪═════════════╪═════════════╪═════════════╪═════════════╣\n║           0 ║      0      │      0      │      0      │      0      │      0      │      0      │      0      │      0      ║\n╟─────────────╫─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────╢\n║           1 ║      0      │      1      │      α      │    α + 1    │     α^2     │   α^2 + 1   │   α^2 + α   │ α^2 + α + 1 ║\n╟─────────────╫─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────╢\n║           α ║      0      │      α      │     α^2     │   α^2 + α   │    α + 1    │      1      │ α^2 + α + 1 │   α^2 + 1   ║\n╟─────────────╫─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────╢\n║       α + 1 ║      0      │    α + 1    │   α^2 + α   │   α^2 + 1   │ α^2 + α + 1 │     α^2     │      1      │      α      ║\n╟─────────────╫─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────╢\n║         α^2 ║      0      │     α^2     │    α + 1    │ α^2 + α + 1 │   α^2 + α   │      α      │   α^2 + 1   │      1      ║\n╟─────────────╫─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────╢\n║     α^2 + 1 ║      0      │   α^2 + 1   │      1      │     α^2     │      α      │ α^2 + α + 1 │    α + 1    │   α^2 + α   ║\n╟─────────────╫─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────╢\n║     α^2 + α ║      0      │   α^2 + α   │ α^2 + α + 1 │      1      │   α^2 + 1   │    α + 1    │      α      │     α^2     ║\n╟─────────────╫─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────╢\n║ α^2 + α + 1 ║      0      │ α^2 + α + 1 │   α^2 + 1   │      α      │      1      │   α^2 + α   │     α^2     │    α + 1    ║\n╚═════════════╩═════════════╧═════════════╧═════════════╧═════════════╧═════════════╧═════════════╧═════════════╧═════════════╝"
        assert GF.arithmetic_table("/") == "╔═════════════╦═════════════╤═════════════╤═════════════╤═════════════╤═════════════╤═════════════╤═════════════╗\n║       x / y ║      1      │      α      │    α + 1    │     α^2     │   α^2 + 1   │   α^2 + α   │ α^2 + α + 1 ║\n╠═════════════╬═════════════╪═════════════╪═════════════╪═════════════╪═════════════╪═════════════╪═════════════╣\n║           0 ║      0      │      0      │      0      │      0      │      0      │      0      │      0      ║\n╟─────────────╫─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────╢\n║           1 ║      1      │   α^2 + 1   │   α^2 + α   │ α^2 + α + 1 │      α      │    α + 1    │     α^2     ║\n╟─────────────╫─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────╢\n║           α ║      α      │      1      │ α^2 + α + 1 │   α^2 + 1   │     α^2     │   α^2 + α   │    α + 1    ║\n╟─────────────╫─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────╢\n║       α + 1 ║    α + 1    │     α^2     │      1      │      α      │   α^2 + α   │   α^2 + 1   │ α^2 + α + 1 ║\n╟─────────────╫─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────╢\n║         α^2 ║     α^2     │      α      │   α^2 + 1   │      1      │    α + 1    │ α^2 + α + 1 │   α^2 + α   ║\n╟─────────────╫─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────╢\n║     α^2 + 1 ║   α^2 + 1   │ α^2 + α + 1 │    α + 1    │   α^2 + α   │      1      │     α^2     │      α      ║\n╟─────────────╫─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────╢\n║     α^2 + α ║   α^2 + α   │    α + 1    │      α      │     α^2     │ α^2 + α + 1 │      1      │   α^2 + 1   ║\n╟─────────────╫─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────┼─────────────╢\n║ α^2 + α + 1 ║ α^2 + α + 1 │   α^2 + α   │     α^2     │    α + 1    │   α^2 + 1   │      α      │      1      ║\n╚═════════════╩═════════════╧═════════════╧═════════════╧═════════════╧═════════════╧═════════════╧═════════════╝"
    with GF.display("power"):
        assert GF.arithmetic_table("+") == "╔═══════╦═════╤═════╤═════╤═════╤═════╤═════╤═════╤═════╗\n║ x + y ║   0 │   1 │   α │ α^2 │ α^3 │ α^4 │ α^5 │ α^6 ║\n╠═══════╬═════╪═════╪═════╪═════╪═════╪═════╪═════╪═════╣\n║     0 ║   0 │   1 │   α │ α^2 │ α^3 │ α^4 │ α^5 │ α^6 ║\n╟───────╫─────┼─────┼─────┼─────┼─────┼─────┼─────┼─────╢\n║     1 ║   1 │   0 │ α^3 │ α^6 │   α │ α^5 │ α^4 │ α^2 ║\n╟───────╫─────┼─────┼─────┼─────┼─────┼─────┼─────┼─────╢\n║     α ║   α │ α^3 │   0 │ α^4 │   1 │ α^2 │ α^6 │ α^5 ║\n╟───────╫─────┼─────┼─────┼─────┼─────┼─────┼─────┼─────╢\n║   α^2 ║ α^2 │ α^6 │ α^4 │   0 │ α^5 │   α │ α^3 │   1 ║\n╟───────╫─────┼─────┼─────┼─────┼─────┼─────┼─────┼─────╢\n║   α^3 ║ α^3 │   α │   1 │ α^5 │   0 │ α^6 │ α^2 │ α^4 ║\n╟───────╫─────┼─────┼─────┼─────┼─────┼─────┼─────┼─────╢\n║   α^4 ║ α^4 │ α^5 │ α^2 │   α │ α^6 │   0 │   1 │ α^3 ║\n╟───────╫─────┼─────┼─────┼─────┼─────┼─────┼─────┼─────╢\n║   α^5 ║ α^5 │ α^4 │ α^6 │ α^3 │ α^2 │   1 │   0 │   α ║\n╟───────╫─────┼─────┼─────┼─────┼─────┼─────┼─────┼─────╢\n║   α^6 ║ α^6 │ α^2 │ α^5 │   1 │ α^4 │ α^3 │   α │   0 ║\n╚═══════╩═════╧═════╧═════╧═════╧═════╧═════╧═════╧═════╝"
        assert GF.arithmetic_table("-") == "╔═══════╦═════╤═════╤═════╤═════╤═════╤═════╤═════╤═════╗\n║ x - y ║   0 │   1 │   α │ α^2 │ α^3 │ α^4 │ α^5 │ α^6 ║\n╠═══════╬═════╪═════╪═════╪═════╪═════╪═════╪═════╪═════╣\n║     0 ║   0 │   1 │   α │ α^2 │ α^3 │ α^4 │ α^5 │ α^6 ║\n╟───────╫─────┼─────┼─────┼─────┼─────┼─────┼─────┼─────╢\n║     1 ║   1 │   0 │ α^3 │ α^6 │   α │ α^5 │ α^4 │ α^2 ║\n╟───────╫─────┼─────┼─────┼─────┼─────┼─────┼─────┼─────╢\n║     α ║   α │ α^3 │   0 │ α^4 │   1 │ α^2 │ α^6 │ α^5 ║\n╟───────╫─────┼─────┼─────┼─────┼─────┼─────┼─────┼─────╢\n║   α^2 ║ α^2 │ α^6 │ α^4 │   0 │ α^5 │   α │ α^3 │   1 ║\n╟───────╫─────┼─────┼─────┼─────┼─────┼─────┼─────┼─────╢\n║   α^3 ║ α^3 │   α │   1 │ α^5 │   0 │ α^6 │ α^2 │ α^4 ║\n╟───────╫─────┼─────┼─────┼─────┼─────┼─────┼─────┼─────╢\n║   α^4 ║ α^4 │ α^5 │ α^2 │   α │ α^6 │   0 │   1 │ α^3 ║\n╟───────╫─────┼─────┼─────┼─────┼─────┼─────┼─────┼─────╢\n║   α^5 ║ α^5 │ α^4 │ α^6 │ α^3 │ α^2 │   1 │   0 │   α ║\n╟───────╫─────┼─────┼─────┼─────┼─────┼─────┼─────┼─────╢\n║   α^6 ║ α^6 │ α^2 │ α^5 │   1 │ α^4 │ α^3 │   α │   0 ║\n╚═══════╩═════╧═════╧═════╧═════╧═════╧═════╧═════╧═════╝"
        assert GF.arithmetic_table("*") == "╔═══════╦═════╤═════╤═════╤═════╤═════╤═════╤═════╤═════╗\n║ x * y ║   0 │   1 │   α │ α^2 │ α^3 │ α^4 │ α^5 │ α^6 ║\n╠═══════╬═════╪═════╪═════╪═════╪═════╪═════╪═════╪═════╣\n║     0 ║   0 │   0 │   0 │   0 │   0 │   0 │   0 │   0 ║\n╟───────╫─────┼─────┼─────┼─────┼─────┼─────┼─────┼─────╢\n║     1 ║   0 │   1 │   α │ α^2 │ α^3 │ α^4 │ α^5 │ α^6 ║\n╟───────╫─────┼─────┼─────┼─────┼─────┼─────┼─────┼─────╢\n║     α ║   0 │   α │ α^2 │ α^3 │ α^4 │ α^5 │ α^6 │   1 ║\n╟───────╫─────┼─────┼─────┼─────┼─────┼─────┼─────┼─────╢\n║   α^2 ║   0 │ α^2 │ α^3 │ α^4 │ α^5 │ α^6 │   1 │   α ║\n╟───────╫─────┼─────┼─────┼─────┼─────┼─────┼─────┼─────╢\n║   α^3 ║   0 │ α^3 │ α^4 │ α^5 │ α^6 │   1 │   α │ α^2 ║\n╟───────╫─────┼─────┼─────┼─────┼─────┼─────┼─────┼─────╢\n║   α^4 ║   0 │ α^4 │ α^5 │ α^6 │   1 │   α │ α^2 │ α^3 ║\n╟───────╫─────┼─────┼─────┼─────┼─────┼─────┼─────┼─────╢\n║   α^5 ║   0 │ α^5 │ α^6 │   1 │   α │ α^2 │ α^3 │ α^4 ║\n╟───────╫─────┼─────┼─────┼─────┼─────┼─────┼─────┼─────╢\n║   α^6 ║   0 │ α^6 │   1 │   α │ α^2 │ α^3 │ α^4 │ α^5 ║\n╚═══════╩═════╧═════╧═════╧═════╧═════╧═════╧═════╧═════╝"
        assert GF.arithmetic_table("/") == "╔═══════╦═════╤═════╤═════╤═════╤═════╤═════╤═════╗\n║ x / y ║   1 │   α │ α^2 │ α^3 │ α^4 │ α^5 │ α^6 ║\n╠═══════╬═════╪═════╪═════╪═════╪═════╪═════╪═════╣\n║     0 ║   0 │   0 │   0 │   0 │   0 │   0 │   0 ║\n╟───────╫─────┼─────┼─────┼─────┼─────┼─────┼─────╢\n║     1 ║   1 │ α^6 │ α^5 │ α^4 │ α^3 │ α^2 │   α ║\n╟───────╫─────┼─────┼─────┼─────┼─────┼─────┼─────╢\n║     α ║   α │   1 │ α^6 │ α^5 │ α^4 │ α^3 │ α^2 ║\n╟───────╫─────┼─────┼─────┼─────┼─────┼─────┼─────╢\n║   α^2 ║ α^2 │   α │   1 │ α^6 │ α^5 │ α^4 │ α^3 ║\n╟───────╫─────┼─────┼─────┼─────┼─────┼─────┼─────╢\n║   α^3 ║ α^3 │ α^2 │   α │   1 │ α^6 │ α^5 │ α^4 ║\n╟───────╫─────┼─────┼─────┼─────┼─────┼─────┼─────╢\n║   α^4 ║ α^4 │ α^3 │ α^2 │   α │   1 │ α^6 │ α^5 ║\n╟───────╫─────┼─────┼─────┼─────┼─────┼─────┼─────╢\n║   α^5 ║ α^5 │ α^4 │ α^3 │ α^2 │   α │   1 │ α^6 ║\n╟───────╫─────┼─────┼─────┼─────┼─────┼─────┼─────╢\n║   α^6 ║ α^6 │ α^5 │ α^4 │ α^3 │ α^2 │   α │   1 ║\n╚═══════╩═════╧═════╧═════╧═════╧═════╧═════╧═════╝"


def test_repr_table():
    GF = galois.GF(2**3)
    assert GF.repr_table() == "╔═══════╤═════════════╤═══════════╤═════════╗\n║ Power │  Polynomial │   Vector  │ Integer ║\n║═══════╪═════════════╪═══════════╪═════════║\n║   0   │      0      │ [0, 0, 0] │    0    ║\n╟───────┼─────────────┼───────────┼─────────╢\n║  x^0  │      1      │ [0, 0, 1] │    1    ║\n╟───────┼─────────────┼───────────┼─────────╢\n║  x^1  │      x      │ [0, 1, 0] │    2    ║\n╟───────┼─────────────┼───────────┼─────────╢\n║  x^2  │     x^2     │ [1, 0, 0] │    4    ║\n╟───────┼─────────────┼───────────┼─────────╢\n║  x^3  │    x + 1    │ [0, 1, 1] │    3    ║\n╟───────┼─────────────┼───────────┼─────────╢\n║  x^4  │   x^2 + x   │ [1, 1, 0] │    6    ║\n╟───────┼─────────────┼───────────┼─────────╢\n║  x^5  │ x^2 + x + 1 │ [1, 1, 1] │    7    ║\n╟───────┼─────────────┼───────────┼─────────╢\n║  x^6  │   x^2 + 1   │ [1, 0, 1] │    5    ║\n╚═══════╧═════════════╧═══════════╧═════════╝"
    assert GF.repr_table(sort="int") == "╔═══════╤═════════════╤═══════════╤═════════╗\n║ Power │  Polynomial │   Vector  │ Integer ║\n║═══════╪═════════════╪═══════════╪═════════║\n║   0   │      0      │ [0, 0, 0] │    0    ║\n╟───────┼─────────────┼───────────┼─────────╢\n║  x^0  │      1      │ [0, 0, 1] │    1    ║\n╟───────┼─────────────┼───────────┼─────────╢\n║  x^1  │      x      │ [0, 1, 0] │    2    ║\n╟───────┼─────────────┼───────────┼─────────╢\n║  x^3  │    x + 1    │ [0, 1, 1] │    3    ║\n╟───────┼─────────────┼───────────┼─────────╢\n║  x^2  │     x^2     │ [1, 0, 0] │    4    ║\n╟───────┼─────────────┼───────────┼─────────╢\n║  x^6  │   x^2 + 1   │ [1, 0, 1] │    5    ║\n╟───────┼─────────────┼───────────┼─────────╢\n║  x^4  │   x^2 + x   │ [1, 1, 0] │    6    ║\n╟───────┼─────────────┼───────────┼─────────╢\n║  x^5  │ x^2 + x + 1 │ [1, 1, 1] │    7    ║\n╚═══════╧═════════════╧═══════════╧═════════╝"

    alpha = GF.primitive_elements[-1]
    assert GF.repr_table(alpha) == "╔═════════════════╤═════════════╤═══════════╤═════════╗\n║      Power      │  Polynomial │   Vector  │ Integer ║\n║═════════════════╪═════════════╪═══════════╪═════════║\n║        0        │      0      │ [0, 0, 0] │    0    ║\n╟─────────────────┼─────────────┼───────────┼─────────╢\n║ (x^2 + x + 1)^0 │      1      │ [0, 0, 1] │    1    ║\n╟─────────────────┼─────────────┼───────────┼─────────╢\n║ (x^2 + x + 1)^1 │ x^2 + x + 1 │ [1, 1, 1] │    7    ║\n╟─────────────────┼─────────────┼───────────┼─────────╢\n║ (x^2 + x + 1)^2 │    x + 1    │ [0, 1, 1] │    3    ║\n╟─────────────────┼─────────────┼───────────┼─────────╢\n║ (x^2 + x + 1)^3 │      x      │ [0, 1, 0] │    2    ║\n╟─────────────────┼─────────────┼───────────┼─────────╢\n║ (x^2 + x + 1)^4 │   x^2 + 1   │ [1, 0, 1] │    5    ║\n╟─────────────────┼─────────────┼───────────┼─────────╢\n║ (x^2 + x + 1)^5 │   x^2 + x   │ [1, 1, 0] │    6    ║\n╟─────────────────┼─────────────┼───────────┼─────────╢\n║ (x^2 + x + 1)^6 │     x^2     │ [1, 0, 0] │    4    ║\n╚═════════════════╧═════════════╧═══════════╧═════════╝"
    assert GF.repr_table(alpha, sort="int") == "╔═════════════════╤═════════════╤═══════════╤═════════╗\n║      Power      │  Polynomial │   Vector  │ Integer ║\n║═════════════════╪═════════════╪═══════════╪═════════║\n║        0        │      0      │ [0, 0, 0] │    0    ║\n╟─────────────────┼─────────────┼───────────┼─────────╢\n║ (x^2 + x + 1)^0 │      1      │ [0, 0, 1] │    1    ║\n╟─────────────────┼─────────────┼───────────┼─────────╢\n║ (x^2 + x + 1)^3 │      x      │ [0, 1, 0] │    2    ║\n╟─────────────────┼─────────────┼───────────┼─────────╢\n║ (x^2 + x + 1)^2 │    x + 1    │ [0, 1, 1] │    3    ║\n╟─────────────────┼─────────────┼───────────┼─────────╢\n║ (x^2 + x + 1)^6 │     x^2     │ [1, 0, 0] │    4    ║\n╟─────────────────┼─────────────┼───────────┼─────────╢\n║ (x^2 + x + 1)^4 │   x^2 + 1   │ [1, 0, 1] │    5    ║\n╟─────────────────┼─────────────┼───────────┼─────────╢\n║ (x^2 + x + 1)^5 │   x^2 + x   │ [1, 1, 0] │    6    ║\n╟─────────────────┼─────────────┼───────────┼─────────╢\n║ (x^2 + x + 1)^1 │ x^2 + x + 1 │ [1, 1, 1] │    7    ║\n╚═════════════════╧═════════════╧═══════════╧═════════╝"
